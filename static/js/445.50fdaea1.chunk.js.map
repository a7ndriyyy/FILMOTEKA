{"version":3,"file":"static/js/445.50fdaea1.chunk.js","mappings":"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","sources":["components/App.styled.js","components/Error/Error.jsx","components/Loading/Loading.jsx","components/LoadMore/LoadMore.styled.js","components/LoadMore/LoadMore.jsx","components/SearchMoviesForm/SearchMoviesForm.styled.js","components/SearchMoviesForm/SearchMoviesForm.jsx","components/SearchMoviesList/SearchMoviesList.styled.js","components/SearchMoviesList/SearchMoviesList.jsx","pages/Movies.jsx","services/movie-api.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const Container = styled.div`\n  max-width: 1100px;\n  padding: 0 16px;\n  margin: 0 auto;\n`;\n\nexport const Section = styled.section`\n  padding: 60px 0;\n  border-bottom: 1px solid #eee;\n  height: 100%;\n`;","import React from 'react';\n\nconst Error = () => {\n  return <h1>Error</h1>;\n};\n\nexport default Error;","import { ThreeDots } from 'react-loader-spinner';\nconst Loading = () => {\n  return (\n    <ThreeDots\n      height=\"80\"\n      width=\"80\"\n      radius=\"11\"\n      color=\"#1e349f\"\n      ariaLabel=\"three-dots-loading\"\n      wrapperStyle={{\n        position: 'absolute',\n        bottom: '47%',\n        left: '47%',\n      }}\n      wrapperClassName=\"\"\n      visible={true}\n    />\n  );\n};\n\nexport default Loading;","import styled from 'styled-components';\n\n/*\n * Стили компонента Buton (Load more)\n */\nexport const Button = styled.button`\n  padding: 8px 16px;\n  margin-left: auto;\n  margin-right: auto;\n  border-radius: 2px;\n  background-color: #000;\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  text-align: center;\n  display: block;\n  margin-top: 20px;\n  margin-bottom: 20px;\n  color: #fff;\n  border: 0;\n  cursor: pointer;\n  min-width: 180px;\n  height: 60px;\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\n    0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\n\n  &:hover,\n  &:focus {\n    background-color: #000;\n  }\n`;","import { Button } from './LoadMore.styled';\n\nconst LoadMore = ({ onClick }) => {\n  return (\n    <Button type=\"button\" onClick={() => onClick()}>\n      Load more\n    </Button>\n  );\n};\n\nexport default LoadMore;","import styled from 'styled-components';\n\nexport const Label = styled.label`\n  input {\n    display: inline-block;\n  width: 100%;\n  font: inherit;\n  font-size: 20px;\n  padding-left: 4px;\n  padding-right: 4px;\n\n  }&:placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n  Label {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  clip-path: inset(50%);\n  border: 0;\n  }\n\n`;","import { Label } from './SearchMoviesForm.styled';\n\nconst SearchMoviesForm = ({ handleQuery, queryParam, setPage }) => {\n  const onSearch = e => {\n    const query = e.target.value;\n    const nextParams = query !== '' ? { query } : {};\n    handleQuery(nextParams);\n    setPage(1);\n  };\n\n  return (\n    <Label>\n      <input\n        type=\"text\"\n        placeholder=\"Search\"\n        value={queryParam}\n        onChange={onSearch}\n      />\n    </Label>\n  );\n};\n\nexport default SearchMoviesForm;","import styled from 'styled-components';\n\nexport const ListSearch = styled.ul`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  gap: 18px;\n\n  li {\n    font-size: 22px;\n    transition: all 350ms cubic-bezier(0.4, 0, 0.2, 1);\n\n    &:hover {\n      scale: 1.1;\n      color: #600000;\n    }\n  }\n  a {\n    display: block;\n    text-decoration: none;\n    color: inherit;\n  }\n  img {\n    border: 1px solid #eee;\n    width: 200px;\n    height: 300px;\n  }\n`;","import React from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { ListSearch } from './SearchMoviesList.styled';\nconst BASE_IMG = 'https://image.tmdb.org/t/p/w200';\n\nconst SearchMoviesList = ({ movies }) => {\n  const location = useLocation();\n  return (\n    <>\n      <ListSearch>\n        {movies.map(({ title, id, poster_path }) => (\n          <li key={id}>\n            <Link to={`${id}`} state={{ from: location }}>\n              <img src={`${BASE_IMG}${poster_path}`} alt={title} />\n              {title && title.substring(0, 18)}\n            </Link>\n          </li>\n        ))}\n      </ListSearch>\n    </>\n  );\n};\n\nexport default SearchMoviesList;","import { Container } from 'components/App.styled';\nimport Error from 'components/Error/Error';\nimport LoadMore from 'components/LoadMore/LoadMore';\nimport Loading from 'components/Loading/Loading';\nimport SearchMoviesForm from 'components/SearchMoviesForm/SearchMoviesForm';\nimport SearchMoviesList from 'components/SearchMoviesList/SearchMoviesList';\nimport { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { getSearchMovies } from 'services/movie-api';\n\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [queryText, setQueryText] = useSearchParams();\n  const [page, setPage] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const [loadMore, setLoadMore] = useState(false);\n  const queryParam = queryText.get('query') ?? '';\n\n  useEffect(() => {\n    if (!queryParam) return setMovies([]);\n    const searchMovie = async (query, page) => {\n      setLoading(true);\n      try {\n        const { results, total_result, total_pages } = await getSearchMovies(\n          query,\n          page\n        );\n        if (page === 1) {\n          setMovies(results);\n        } else {\n          setMovies(prevMovies => [...prevMovies, ...results]);\n          setLoadMore(total_pages < Math.ceil(total_result / 20));\n        }\n        setLoadMore(true);\n        setLoading(false);\n      } catch (error) {\n        console.log(error);\n        setError(true);\n        setLoading(true);\n      }\n    };\n    searchMovie(queryParam, page);\n  }, [page, queryParam]);\n\n  useEffect(() => {\n    if (!queryParam) return setLoadMore(false);\n  }, [queryParam]);\n  const handleQuery = query => {\n    setQueryText(query);\n  };\n\n  const onClick = () => {\n    setPage(prevPage => prevPage + 1);\n  };\n\n  return (\n    <section>\n      <Container>\n        <SearchMoviesForm\n          handleQuery={handleQuery}\n          queryParam={queryParam}\n          setPage={setPage}\n        />\n        {loading ? (\n          <Loading />\n        ) : (\n          <>\n            {movies.length !== 0 && <h2>Movies: '{queryParam}'</h2>}\n            <SearchMoviesList movies={movies} />\n            {loadMore && <LoadMore onClick={onClick} />}\n          </>\n        )}\n        {error && <Error />}\n      </Container>\n    </section>\n  );\n};\n\nexport default Movies;","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = '22ba7957556991080b2d9f0336ac306f';\naxios.defaults.params = {\n  api_key: API_KEY,\n};\n\nexport async function getMovies() {\n  return (await axios.get(`${BASE_URL}/trending/all/day`)).data;\n}\n\nexport async function getMoveDetails(id) {\n  return (await axios.get(`${BASE_URL}/movie/${id}`)).data;\n}\n\n\nexport async function getCastMovie(id) {\n  return (await axios.get(`${BASE_URL}/movie/${id}/credits`)).data;\n}\n\n\nexport async function getReviewMovie(id) {\n  return (await axios.get(`${BASE_URL}/movie/${id}/reviews`)).data;\n}\n\n\n\nexport async function getSearchMovies(queryText, page = 1) {\n  return (\n    await axios.get(`${BASE_URL}/search/movie?query=${queryText}&page=${page}`)\n  ).data;\n}"],"names":["Container","styled","Section","height","width","radius","color","ariaLabel","wrapperStyle","position","bottom","left","wrapperClassName","visible","Button","onClick","type","Label","handleQuery","queryParam","setPage","placeholder","value","onChange","e","query","target","ListSearch","movies","location","useLocation","map","title","id","poster_path","to","state","from","src","alt","substring","useState","setMovies","useSearchParams","queryText","setQueryText","page","loading","setLoading","error","setError","loadMore","setLoadMore","get","useEffect","searchMovie","getSearchMovies","results","total_result","total_pages","prevMovies","Math","ceil","console","log","Loading","length","prevPage","Error","BASE_URL","getMovies","axios","data","getMoveDetails","getCastMovie","getReviewMovie","api_key"],"sourceRoot":""}