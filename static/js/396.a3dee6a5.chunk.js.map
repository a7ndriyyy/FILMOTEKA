{"version":3,"file":"static/js/396.a3dee6a5.chunk.js","mappings":"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","sources":["components/App.styled.js","components/Error/Error.jsx","components/Loading/Loading.jsx","components/LoadMore/LoadMore.styled.js","components/LoadMore/LoadMore.jsx","Images/search.svg","components/SearchMoviesForm/SearchMoviesForm.styled.js","components/SearchMoviesForm/SearchMoviesForm.jsx","components/SearchMoviesList/SearchMoviesList.styled.js","components/SearchMoviesList/SearchMoviesList.jsx","pages/Movies.jsx","services/movie-api.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const Container = styled.div`\n  max-width: 1100px;\n  padding: 0 16px;\n  margin: 0 auto;\n`;\n\nexport const Section = styled.section`\n  padding: 60px 0;\n  border-bottom: 1px solid #eee;\n  height: 100%;\n`;","import React from 'react';\n\nconst Error = () => {\n  return <h1>Error</h1>;\n};\n\nexport default Error;","import { ThreeDots } from 'react-loader-spinner';\nconst Loading = () => {\n  return (\n    <ThreeDots\n      height=\"80\"\n      width=\"80\"\n      radius=\"11\"\n      color=\"#1e349f\"\n      ariaLabel=\"three-dots-loading\"\n      wrapperStyle={{\n        position: 'absolute',\n        bottom: '47%',\n        left: '47%',\n      }}\n      wrapperClassName=\"\"\n      visible={true}\n    />\n  );\n};\n\nexport default Loading;","import styled from 'styled-components';\n\n\nexport const Button = styled.button`\n  padding: 8px 16px;\n  margin-left: auto;\n  margin-right: auto;\n  border-radius: 2px;\n  background-color: #000;\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  text-align: center;\n  display: block;\n  margin-top: 20px;\n  margin-bottom: 20px;\n  color: #fff;\n  border: 0;\n  cursor: pointer;\n  min-width: 180px;\n  height: 60px;\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\n    0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\n\n  &:hover,\n  &:focus {\n    background-color: rgb(106, 90, 205);\n  }\n`;","import { Button } from './LoadMore.styled';\n\nconst LoadMore = ({ onClick }) => {\n  return (\n    <Button type=\"button\" onClick={() => onClick()}>\n      Load more\n    </Button>\n  );\n};\n\nexport default LoadMore;","var _g, _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSearch(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 512,\n    height: 512,\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"icomoon-ignore\"\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M496.131 435.698l-121.276-103.147c-12.537-11.283-25.945-16.463-36.776-15.963 28.628-33.534 45.921-77.039 45.921-124.588 0-106.039-85.961-192-192-192s-192 85.961-192 192 85.961 192 192 192c47.549 0 91.054-17.293 124.588-45.922-0.5 10.831 4.68 24.239 15.963 36.776l103.147 121.276c17.661 19.623 46.511 21.277 64.11 3.678s15.946-46.449-3.677-64.11zM192 320c-70.692 0-128-57.308-128-128s57.308-128 128-128 128 57.308 128 128-57.307 128-128 128z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSearch);\nexport default __webpack_public_path__ + \"static/media/search.750f6c864369accb88be783ad960a83b.svg\";\nexport { ForwardRef as ReactComponent };","import styled from 'styled-components';\nimport icon from '../../Images/search.svg';\n\nexport const SearchForm = styled.form`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 400px;\n  background-color: #fff;\n  border-radius: 3px;\n  overflow: hidden;\n  margin-top: 5px;\n  margin-left: auto;\n  margin-right: auto;\n  border: 1px solid;\n`;\n\nexport const ButtonSearch = styled.button`\n  display: inline-block;\n  width: 48px;\n  height: 48px;\n  border: 0;\n  background-image: url(${icon});\n  background-size: 40%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n  background-color: rgb(106, 90, 205);\n\n  &:hover {\n    opacity: 1;\n  }\n`;\n\nexport const Input = styled.input`\n  display: inline-block;\n  width: 100%;\n  font: inherit;\n  font-size: 20px;\n  border: none;\n  outline: none;\n  padding-left: 4px;\n  padding-right: 4px;\n\n  &:placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n`;\n\nexport const Label = styled.span`\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  clip-path: inset(50%);\n  border: 0;\n  \n`;","import { Label,  Input , SearchForm, ButtonSearch} from './SearchMoviesForm.styled';\nimport { useState } from 'react'\n\nexport const SearchBar = ({ handleSubmit, setSearchParams }) => {\nconst [searchValue, setSearchValue] = useState('');\n\n  const handleSearchState = e => {\n    const currentQuery = e.target.value.trim();\n    setSearchValue(currentQuery);\n    setSearchParams(currentQuery !== '' ? { query: currentQuery } : {});\n  };\n  return (\n    <SearchForm onSubmit={handleSubmit}>\n      <ButtonSearch type=\"submit\">\n        <Label>Search</Label>\n      </ButtonSearch>\n      <Input\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search films\"\n        value={searchValue}\n        onChange={handleSearchState}\n      />\n    </SearchForm>\n  );\n}\nexport default SearchBar;","import styled from 'styled-components';\n\nexport const ListSearch = styled.ul`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  gap: 18px;\n\n  li {\n    font-size: 22px;\n    transition: all 350ms cubic-bezier(0.4, 0, 0.2, 1);\n\n    &:hover {\n      scale: 1.1;\n      color: #600000;\n    }\n  }\n  a {\n    display: block;\n    text-decoration: none;\n    color: inherit;\n  }\n  img {\n    border: 1px solid #eee;\n    width: 200px;\n    height: 300px;\n  }\n`;","import React from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { ListSearch } from './SearchMoviesList.styled';\nconst BASE_IMG = 'https://image.tmdb.org/t/p/w200';\n\nconst SearchMoviesList = ({ movies }) => {\n  const location = useLocation();\n  return (\n    <>\n      <ListSearch>\n        {movies.map(({ title, id, poster_path }) => (\n          <li key={id}>\n            <Link to={`${id}`} state={{ from: location }}>\n              <img src={`${BASE_IMG}${poster_path}`} alt={title} />\n              {title && title.substring(0, 18)}\n            </Link>\n          </li>\n        ))}\n      </ListSearch>\n    </>\n  );\n};\n\nexport default SearchMoviesList;","import { Container } from 'components/App.styled';\nimport Error from 'components/Error/Error';\nimport LoadMore from 'components/LoadMore/LoadMore';\nimport Loading from 'components/Loading/Loading';\nimport SearchMoviesForm from 'components/SearchMoviesForm/SearchMoviesForm';\nimport SearchMoviesList from 'components/SearchMoviesList/SearchMoviesList';\nimport { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { getSearchMovies } from 'services/movie-api';\n\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [queryText, setQueryText] = useSearchParams();\n  const [page, setPage] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const [loadMore, setLoadMore] = useState(false);\n  const queryParam = queryText.get('query') ?? '';\n\n  useEffect(() => {\n    if (!queryParam) return setMovies([]);\n    const searchMovie = async (query, page) => {\n      setLoading(true);\n      try {\n        const { results, total_result, total_pages } = await getSearchMovies(\n          query,\n          page\n        );\n        if (page === 1) {\n          setMovies(results);\n        } else {\n          setMovies(prevMovies => [...prevMovies, ...results]);\n          setLoadMore(total_pages < Math.ceil(total_result / 20));\n        }\n        setLoadMore(true);\n        setLoading(false);\n      } catch (error) {\n        console.log(error);\n        setError(true);\n        setLoading(true);\n      }\n    };\n    searchMovie(queryParam, page);\n  }, [page, queryParam]);\n\n  useEffect(() => {\n    if (!queryParam) return setLoadMore(false);\n  }, [queryParam]);\n  const handleQuery = query => {\n    setQueryText(query);\n  };\n\n  const onClick = () => {\n    setPage(prevPage => prevPage + 1);\n  };\n\n  return (\n    <section>\n      <Container>\n        <SearchMoviesForm\n          handleQuery={handleQuery}\n          queryParam={queryParam}\n          setPage={setPage}\n        />\n        {loading ? (\n          <Loading />\n        ) : (\n          <>\n            {movies.length !== 0 && <h2>Movies: '{queryParam}'</h2>}\n            <SearchMoviesList movies={movies} />\n            {loadMore && <LoadMore onClick={onClick} />}\n          </>\n        )}\n        {error && <Error />}\n      </Container>\n    </section>\n  );\n};\n\nexport default Movies;","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = '22ba7957556991080b2d9f0336ac306f';\naxios.defaults.params = {\n  api_key: API_KEY,\n};\n\nexport async function getMovies() {\n  return (await axios.get(`${BASE_URL}/trending/all/day`)).data;\n}\n\nexport async function getMoveDetails(id) {\n  return (await axios.get(`${BASE_URL}/movie/${id}`)).data;\n}\n\n\nexport async function getCastMovie(id) {\n  return (await axios.get(`${BASE_URL}/movie/${id}/credits`)).data;\n}\n\n\nexport async function getReviewMovie(id) {\n  return (await axios.get(`${BASE_URL}/movie/${id}/reviews`)).data;\n}\n\n\n\nexport async function getSearchMovies(queryText, page = 1) {\n  return (\n    await axios.get(`${BASE_URL}/search/movie?query=${queryText}&page=${page}`)\n  ).data;\n}"],"names":["Container","styled","Section","height","width","radius","color","ariaLabel","wrapperStyle","position","bottom","left","wrapperClassName","visible","Button","onClick","type","SearchForm","ButtonSearch","icon","Input","Label","handleSubmit","setSearchParams","useState","searchValue","setSearchValue","onSubmit","autoComplete","autoFocus","placeholder","value","onChange","e","currentQuery","target","trim","query","ListSearch","movies","location","useLocation","map","title","id","poster_path","to","state","from","src","alt","substring","setMovies","useSearchParams","queryText","setQueryText","page","setPage","loading","setLoading","error","setError","loadMore","setLoadMore","queryParam","get","useEffect","searchMovie","getSearchMovies","results","total_result","total_pages","prevMovies","Math","ceil","console","log","SearchMoviesForm","handleQuery","Loading","length","prevPage","Error","BASE_URL","getMovies","axios","data","getMoveDetails","getCastMovie","getReviewMovie","api_key"],"sourceRoot":""}